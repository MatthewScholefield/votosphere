(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,t,a){e.exports=a(434)},211:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(54),c=a.n(l),o=(a(211),a(21)),i=a(22),s=a(24),u=a(23),m=a(25),d=(a(59),a(60),a(450)),h=a(441),p=a(435),f=a(455),E=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{stackable:!0,size:"massive"},r.a.createElement(h.a,null,r.a.createElement(d.a.Item,{href:"#"},r.a.createElement(p.a,{src:"images/logo.png",style:{height:30}})),r.a.createElement(d.a.Item,{href:"#"},"Votosphere"),r.a.createElement(d.a.Menu,{position:"right"},[{name:"+",key:"/createPoll"},{name:"View",key:"viewPoll"}].map(function(t){var a=t.name,n=t.key;return r.a.createElement(f.a,{key:n,render:function(t){var l=t.history;return r.a.createElement(d.a.Item,{onClick:function(t,a){var r=a.name;l.push(n),e.setState({activeItem:r})},active:!1,name:n,content:a})}})}))))}}]),t}(n.Component),b=a(173),y=a(453),g=a(452),v=a(451),j=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="#"===this.props.href,t=r.a.createElement(b.a,{name:this.props.name,size:"huge",style:{color:"#777777"}}),a=e?t:r.a.createElement("a",{href:this.props.href,target:"_blank",rel:"noopener noreferrer"},t);return e?r.a.createElement(y.a,{trigger:a,content:"We don't actually have a page on "+this.props.name+" yet."}):a}}]),t}(n.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return[r.a.createElement("div",{style:{height:40}}),r.a.createElement(d.a,{attached:"bottom",style:{backgroundColor:"#F5F5F5"}},r.a.createElement(h.a,{style:{alignContent:"center",textAlign:"center"}},r.a.createElement(g.a,{centered:!0,stackable:!0,style:{padding:40}},r.a.createElement(g.a.Column,{mobile:16,tablet:4,computer:4},r.a.createElement(v.a,null,"About Us"),r.a.createElement("p",null,"We are a platform for creating quick, simple polls. You can find more info about the project on GitHub.")),r.a.createElement(g.a.Column,{mobile:16,tablet:4,computer:4},r.a.createElement(v.a,null,"Social"),r.a.createElement(j,{name:"twitter",href:"#"}),r.a.createElement(j,{name:"facebook",href:"#"}),r.a.createElement(j,{name:"github",href:"https://github.com/matthewscholefield/Votosphere"}),r.a.createElement(j,{name:"youtube",href:"#"})),r.a.createElement(g.a.Column,{mobile:16,tablet:4,computer:4},r.a.createElement(v.a,null,"More Info"),r.a.createElement("p",null,"Votosphere is a simple platform to create polls. The description is rendered as markdown."),r.a.createElement("p",null,"\xa9 2018 Matthew Scholefield")))))]}}]),t}(n.Component),O=a(448),w=a(449),C=a(183),S=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C.Parallax,{blur:0,bgImage:"images/bg.jpg",bgImageAlt:"Background",strength:200},r.a.createElement(h.a,{text:!0,style:{color:"#fffffff"}},r.a.createElement("div",{key:"spacer",style:{height:100}}),r.a.createElement(v.a,{as:"h1",inverted:!0,className:"white"},"Votosphere"),r.a.createElement("p",{className:"inverted"},"A simple poll creator."),r.a.createElement(f.a,{render:function(e){var t=e.history;return r.a.createElement(w.a,{primary:!0,onClick:function(){return t.push("/createPoll")}},"Create a Poll ")}}),r.a.createElement("div",{key:"spacer",style:{height:100}}))),r.a.createElement("div",{style:{height:40}}),r.a.createElement(h.a,{text:!0},r.a.createElement(g.a,{padded:!0},r.a.createElement(g.a.Row,{columns:3},r.a.createElement(g.a.Column,null,r.a.createElement(v.a,{as:"h2",icon:!0},r.a.createElement(b.a,{name:"users"}),"Open Source",r.a.createElement(v.a.Subheader,null,"Want to learn more? You can view all of the source code on GitHub."))),r.a.createElement(g.a.Column,null,r.a.createElement(v.a,{as:"h2",icon:!0},r.a.createElement(b.a,{name:"tv"}),"Simple",r.a.createElement(v.a.Subheader,null,"Created with ease of use in mind, you can make new polls in a matter of seconds."))),r.a.createElement(g.a.Column,null,r.a.createElement(v.a,{as:"h2",icon:!0},r.a.createElement(b.a,{name:"check"}),"Refreshing",r.a.createElement(v.a.Subheader,null,"A UI that gets out of your way while still looking like it's from this decade.")))))))}}]),t}(n.Component),P=a(89),x=a(46),I=a(456),N=a(447),T=a(444),A=a(445),R=a(442);function F(e){return fetch("https://api.myjson.com/bins",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e.uri.replace("https://api.myjson.com/bins/","")})}function V(e){return fetch("https://api.myjson.com/bins/"+e,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},redirect:"follow",referrer:"no-referrer"}).then(function(e){return e.json()})}var D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",numFields:1,fieldNames:[],agreed:!1,submitting:!1,pollUrl:"",loading:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{style:{height:40}}),r.a.createElement(v.a,null,"Create Poll"),r.a.createElement(g.a,{centered:!0},r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Column,{computer:6,tablet:12,mobile:16},r.a.createElement(I.a,{fluid:!0,raised:!0,style:{padding:20}},r.a.createElement(N.a,null,r.a.createElement(N.a.Field,{control:T.a,onChange:function(t){return e.setState({title:t.target.value})},label:"Title",placeholder:"Title..."}),r.a.createElement(N.a.Field,{control:A.a,onChange:function(t){return e.setState({description:t.target.value})},label:"Description",placeholder:"Description..."}),r.a.createElement(N.a.Group,{inline:!0},r.a.createElement("label",null,"Poll Options")),this.state.fieldNames.concat([""]).map(function(t,a){return r.a.createElement(N.a.Field,{key:a,control:T.a,label:"Option "+(a+1),value:t,placeholder:"New poll option...",onChange:function(t){var n=t.target.value;e.setState(function(e){return n.length>0?e.fieldNames[a]=n:e.fieldNames.splice(a),e})}})}),r.a.createElement(N.a.Field,null,r.a.createElement(y.a,{trigger:r.a.createElement(R.a,{label:"I agree to the Terms and Conditions",onChange:function(t,a){e.setState({agreed:a.checked})}}),content:"You agree to use this service in a way that breaks no laws and is not evil."})),r.a.createElement(f.a,{render:function(t){var a=t.history;return r.a.createElement(N.a.Field,null,r.a.createElement(w.a,{onClick:function(){e.setState({loading:!0});var t=e.state.fieldNames;F({counts:Object.assign.apply(Object,[{}].concat(Object(x.a)(t.map(function(e){return Object(P.a)({},e,0)})))),numResponses:0}).then(function(t){return F({title:e.state.title,description:e.state.description,fields:e.state.fieldNames,counts:t})}).then(function(e){a.push("/poll?id="+e)})},disabled:!e.state.agreed||e.state.loading||!e.state.title.length>0||!e.state.fieldNames.length>0},"Create"))}})))))))}}]),t}(n.Component),M=a(66),W=a.n(M),U=a(443),G=a(90),J=a.n(G),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",fields:[],choices:{},counts:"",id:""},a.handleRadioUpdate=function(e,t,n){void 0!==e&&a.setState(function(e){var a=e.choices;return a[t]=n,{choices:a}})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=W.a.parse(this.props.location.search).id;void 0!==t&&V(t).then(function(a){return e.setState({title:a.title,description:a.description,fields:a.fields,counts:a.counts,id:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{style:{height:40}}),r.a.createElement(v.a,null,this.state.title||"Respond to Poll"),r.a.createElement("div",{style:{listStylePosition:"inside"}},r.a.createElement(J.a,{source:this.state.description||"Respond to a Poll from a link"})),r.a.createElement("div",{style:{height:20}}),r.a.createElement(g.a,{centered:!0},r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Column,{computer:6,tablet:12,mobile:16},r.a.createElement(I.a,{fluid:!0,raised:!0,style:{padding:20}},r.a.createElement(N.a,null,this.state.fields.map(function(t){return r.a.createElement(N.a.Group,{inline:!0,key:t},r.a.createElement("label",null,t),Object(x.a)(Array(3).keys()).map(function(a){return r.a.createElement(N.a.Field,{key:a,control:U.a,label:a,value:a,name:t,onChange:function(n,r){var l=r.value;return e.handleRadioUpdate(l,t,a)},checked:e.state.choices[t]===a})}))}),r.a.createElement(f.a,{render:function(t){var a=t.history;return r.a.createElement(N.a.Field,{control:w.a,onClick:function(){var t=e.state.choices;V(e.state.counts).then(function(a){return n=e.state.counts,r={counts:Object.assign.apply(Object,[{}].concat(Object(x.a)(Object.keys(t).map(function(e){return Object(P.a)({},e,a.counts[e]+t[e])})))),numResponses:a.numResponses+1},fetch("https://api.myjson.com/bins/"+n,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(r)}).then(function(e){return e.json()});var n,r}).then(function(t){a.push("/viewPoll?id="+e.state.id)})},disabled:Object.keys(e.state.choices).length!==e.state.fields.length},"Continue")}})))))))}}]),t}(n.Component),B=a(446),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",description:"",fields:[],countsData:{counts:{}},id:"",badId:!1,loading:!0,idText:""},a.updateData=function(e){e=e||"",a.setState({loading:!0,id:e,badId:!1}),0!==e.length?V(e).then(function(e){return void 0!==e.fields&&void 0!==e.counts||a.setState({badId:!0,id:""}),a.setState({title:e.title,description:e.description,fields:e.fields}),V(e.counts)}).then(function(e){a.setState({countsData:e,loading:!1})}).catch(function(e){a.setState({badId:!0,loading:!1,id:""})}):a.setState({loading:!1})},a.renderPollView=function(){var e=W.a.parse(a.props.location.search).id;e!==a.state.id&&a.updateData(e);var t=a.state.countsData.counts||{},n=0===Object.keys(t).length?1:Math.max.apply(Math,Object(x.a)(Object.values(t))),l=["orange","yellow","olive","teal","blue","violet","purple","pink","brown","grey","black"];return void 0===a.state.fields?[]:[a.state.fields.map(function(e,a){return r.a.createElement(B.a,{progress:"value",key:e,value:t[e]||0,total:n,color:l[a%l.length]},e)}),r.a.createElement(w.a,{onClick:function(){return a.updateData(a.state.id)},icon:!0,labelPosition:"right",disabled:a.state.loading},"Refresh",r.a.createElement(b.a,{name:"refresh"}))]},a.renderAskIdView=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Enter poll id:"),r.a.createElement(T.a,{fluid:!0,error:a.state.badId,type:"text",value:a.state.idText,action:!0,placeholder:"ie. pc9z1...",onChange:function(e){return a.setState({idText:e.target.value})}},r.a.createElement("input",null),r.a.createElement(f.a,{render:function(e){var t=e.history;return r.a.createElement(w.a,{onClick:function(){t.push("/viewPoll?id="+a.state.idText),a.updateData(a.state.idText)}},"Submit")}})))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.updateData(W.a.parse(this.props.location.search).id)}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{style:{height:40}}),r.a.createElement(v.a,null,this.state.title||"View Poll"),r.a.createElement("div",{style:{listStylePosition:"inside"}},r.a.createElement(J.a,{source:this.state.description||"View stats on an existing poll"})),r.a.createElement("div",{style:{height:20}}),r.a.createElement(g.a,{centered:!0},r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Column,{computer:6,tablet:12,mobile:16},r.a.createElement(I.a,{raised:!0,style:{padding:20}},this.state.id?this.renderPollView():this.renderAskIdView())))))}}]),t}(n.Component),H=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement("div",{className:"App Site"},r.a.createElement("div",{className:"Site-content"},r.a.createElement("div",{className:"App-header"},r.a.createElement(E,{key:"navbar"})),r.a.createElement("div",{className:"main"},r.a.createElement(f.a,{key:1,exact:!0,path:"/",component:S}),r.a.createElement(f.a,{key:2,exact:!0,path:"/createPoll",component:D}),r.a.createElement(f.a,{key:3,exact:!0,path:"/poll",component:z}),r.a.createElement(f.a,{key:4,exact:!0,path:"/viewPoll",component:Y}))),r.a.createElement(k,{key:"footer"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e,t,a){}},[[206,2,1]]]);
//# sourceMappingURL=main.b2de3860.chunk.js.map